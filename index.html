<!DOCTYPE html>
<!--
for: social good hacks
authors: 
date: 1/30/15
-->
<!DOCTYPE html>
<html>

<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/css/bootstrap-theme.min.css" rel="stylesheet">

	<script type="text/javascript" src="assets/js/d3.js"></script>

	<title>Sheetsee Maps Demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js'></script>
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,900,400italic|Source+Code+Pro:400' rel='stylesheet' type='text/css'>

    <link rel="shortcut icon" href="favicon.png">
    <script type='text/javascript' src='assets/js/tabletop1.3.4.js'></script>
    <script type='text/javascript' src='assets/js/sheetsee.js'></script>
    <link rel='stylesheet' type='text/css' href='http://api.tiles.mapbox.com/mapbox.js/v1.0.0/mapbox.css'  />
    <!-- <link rel='stylesheet' type='text/css' href='assets/css/style.css'> -->
  </head>
  <style>
    #map, #shapesmap {max-width: 800px; height: 500px;}
    .leaflet-popup-content li {list-style:none;}
    .leaflet-popup-content {width: 102px;}
    .leaflet-popup-content img {width: 100px;}
    a {border: none;}
  </style>

</head>
<body>
	<!--Facebook SDK begins-->
	<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=776978105712094&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
	</script>
	<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '776978105712094',
      xfbml      : true,
      version    : 'v2.2'
    });
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));
</script>
<!--Facebook SDK Ends-->

	<div id="headerwrap">
	    <div class="container">
			<div class="row">
				<div class="col-lg-8 col-lg-offset-2">
					<h1>WELCOME TO METRO SHARE</h1>
				</div>
				<!--Facebook Like Button-->
				<div class="fb-like" data-href="https://developers.facebook.com/docs/plugins/" data-layout="standard" data-action="like" data-show-faces="true" data-share="true">
				</div>
				<!--Facebook Like Button ENDS-->	
				<div class="col-lg-8 col-lg-offset-2 himg">
					<img src="img/MetroSharlogo.png" class="img-responsive">
					<h5>In NYC, one in three poor New Yorkers can't afford public transit. At MetroShare, we strive to create a lasting solution to poverty through the exchange of metrocards. We intend to do this by creating a platform that will allow our users to share a monthly, unlimited metrocard.</h5>	
				</div>
			</div>
	    </div> 
	</div>

	<div class="container">
		<div class="row centered">

			<br><br>

	  <div class="container" class="col-lg-8">
      <h1>map</h1>
      <p><em><a href="https://docs.google.com/spreadsheet/ccc?key=0Au1H4573Ie5BdEIzOFcyOEtnRFQzd2lFODZnNHBTQmc&usp=drive_web#gid=0" target="_blank">spreadsheet</a></em><p>
      <div id="map"></div>
      <!-- <p><em>
      <a onClick='window.location="view-source:" + window.location.href'>View Source</a> // <a href="../docs/sheetsee-maps.html">View Documentation</a></em></p>
      <h2>Using linestrings, polygons and multipolygons</h2>
      <div id="shapesmap"></div>
      <p><em><a onClick='window.location="view-source:" + window.location.href'>View Source</a> // <a href="https://docs.google.com/spreadsheets/d/1jOz6yFY5nIDre5RYtVROYPgIbkgh9lIddsyXo0-79_0/edit?usp=drive_web" target="_blank">View Spreadsheet</a></em></p>-->
      	</div>

     	 <div class="col-lg-4">
 			<h4>list.</h4>	
		 </div>

		<br><br>
	</div>

	<div>
		<p>Disclaimer: This dosen't work for now</p>
	</div>

       <script type="text/javascript">
      document.addEventListener('DOMContentLoaded', function() {
        var URL = "0Au1H4573Ie5BdEIzOFcyOEtnRFQzd2lFODZnNHBTQmc"
        var URL2 = "1jOz6yFY5nIDre5RYtVROYPgIbkgh9lIddsyXo0-79_0"
        Tabletop.init( { key: URL, callback: showInfo, simpleSheet: true } )
        Tabletop.init( { key: URL2, callback: shapesMap, simpleSheet: true } )
      })

      function showInfo(data) {
        var optionsJSON = ["placename", "photo-url"]
        var template = "<ul><li><a href='{{photo-url}}' target='_blank'>"
                     + "<img src='{{photo-url}}'></a></li>"
                     + "<li><h4>{{placename}}</h4></li></ul>"
        var geoJSON = Sheetsee.createGeoJSON(data, optionsJSON)
        var map = Sheetsee.loadMap("map")
        Sheetsee.addTileLayer(map, 'examples.map-20v6611k')
        Sheetsee.addMarkerLayer(geoJSON, map, template)
      }

      function shapesMap(data) {
        var opts = ['description']
        var geojson = Sheetsee.createGeoJSON(data, opts)
        var plytemplate = "<h4>{{description}}</h4>"
        var shapesmap = Sheetsee.loadMap("shapesmap")
        Sheetsee.addTileLayer(shapesmap, 'examples.map-20v6611k')
        Sheetsee.addMarkerLayer(geojson, shapesmap, plytemplate)
      }

    </script>

</body>
</html>